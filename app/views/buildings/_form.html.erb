<%= form_for(@building) do |f| %>
  <% if @building.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@building.errors.count, "error") %> prohibited this building from being saved:</h2>

      <ul>
      <% @building.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>
  
  <script src="http://maps.google.com/maps/api/js?sensor=false"></script>
  
  <script src="../assets/jquery-1.4.4.min.js"></script>
  <script src="../assets/jquery-ui-1.8.7.min.js"></script>
  <script src="../assets/jquery.ui.addresspicker.js"></script>
  <script>
      	$(function() {
      		var addresspicker = $( "#addresspicker" ).addresspicker();
      		var addresspickerMap = $( "#addresspicker_map" ).addresspicker({
      			regionBias: "fr",
      		  elements: {
      		    map:      "#map",
      		    lat:      "#lat",
      		    lng:      "#lng"
      		  }
      		});
      		var gmarker = addresspickerMap.addresspicker( "marker");
      		gmarker.setVisible(true);
      		addresspickerMap.addresspicker( "updatePosition");
      
      	});
  	</script>
  	
  <div>
      <div class='input'>
        <%= f.label :address %><br />
        <%= f.text_field :address, :id => "addresspicker_map" %>
    <%= f.label :latitude %><br />
    <%= f.text_field :latitude, :id => "lat"  %>
    <%= f.label :longitude %>
    <%= f.text_field :longitude, :id => "lng" %>
  </div>
  <div class="actions">
    <%= f.submit %>
  </div>
<% end %>
